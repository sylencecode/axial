#!/usr/bin/env ruby

require_relative '../lib/web_of_trust/api/public_link_json2.rb'

filter = WebOfTrust::API::PublicLinkJSON2.new
foo = filter.get_rating(ARGV[0])
puts "domain: #{foo.domain}"
puts "trustworthiness: #{foo.trustworthiness.rating} (#{foo.trustworthiness.confidence} confidence)"
puts "child safety: #{foo.child_safety.rating} (#{foo.child_safety.confidence} confidence)"
puts "categories: #{foo.categories.join(', ')}"
if (foo.categories.include?(:good_site))
  puts "this looks like a good site"
end
puts "blacklists: #{foo.blacklists.join(', ')}"
# components
# blacklists
